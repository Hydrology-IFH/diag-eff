%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{times}
\expandafter\ifx\csname T@LGR\endcsname\relax
\else
% LGR was declared as font encoding
  \substitutefont{LGR}{\rmdefault}{cmr}
  \substitutefont{LGR}{\sfdefault}{cmss}
  \substitutefont{LGR}{\ttdefault}{cmtt}
\fi
\expandafter\ifx\csname T@X2\endcsname\relax
  \expandafter\ifx\csname T@T2A\endcsname\relax
  \else
  % T2A was declared as font encoding
    \substitutefont{T2A}{\rmdefault}{cmr}
    \substitutefont{T2A}{\sfdefault}{cmss}
    \substitutefont{T2A}{\ttdefault}{cmtt}
  \fi
\else
% X2 was declared as font encoding
  \substitutefont{X2}{\rmdefault}{cmr}
  \substitutefont{X2}{\sfdefault}{cmss}
  \substitutefont{X2}{\ttdefault}{cmtt}
\fi


\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}
\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{2}


% Jupyter Notebook code cell colors
\definecolor{nbsphinxin}{HTML}{307FC1}
\definecolor{nbsphinxout}{HTML}{BF5B3D}
\definecolor{nbsphinx-code-bg}{HTML}{F5F5F5}
\definecolor{nbsphinx-code-border}{HTML}{E0E0E0}
\definecolor{nbsphinx-stderr}{HTML}{FFDDDD}
% ANSI colors for output streams and traceback highlighting
\definecolor{ansi-black}{HTML}{3E424D}
\definecolor{ansi-black-intense}{HTML}{282C36}
\definecolor{ansi-red}{HTML}{E75C58}
\definecolor{ansi-red-intense}{HTML}{B22B31}
\definecolor{ansi-green}{HTML}{00A250}
\definecolor{ansi-green-intense}{HTML}{007427}
\definecolor{ansi-yellow}{HTML}{DDB62B}
\definecolor{ansi-yellow-intense}{HTML}{B27D12}
\definecolor{ansi-blue}{HTML}{208FFB}
\definecolor{ansi-blue-intense}{HTML}{0065CA}
\definecolor{ansi-magenta}{HTML}{D160C4}
\definecolor{ansi-magenta-intense}{HTML}{A03196}
\definecolor{ansi-cyan}{HTML}{60C6C8}
\definecolor{ansi-cyan-intense}{HTML}{258F8F}
\definecolor{ansi-white}{HTML}{C5C1B4}
\definecolor{ansi-white-intense}{HTML}{A1A6B2}
\definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
\definecolor{ansi-default-inverse-bg}{HTML}{000000}

% Define an environment for non-plain-text code cell outputs (e.g. images)
\makeatletter
\newenvironment{nbsphinxfancyoutput}{%
    % Avoid fatal error with framed.sty if graphics too long to fit on one page
    \let\sphinxincludegraphics\nbsphinxincludegraphics
    \nbsphinx@image@maxheight\textheight
    \advance\nbsphinx@image@maxheight -2\fboxsep   % default \fboxsep 3pt
    \advance\nbsphinx@image@maxheight -2\fboxrule  % default \fboxrule 0.4pt
    \advance\nbsphinx@image@maxheight -\baselineskip
\def\nbsphinxfcolorbox{\spx@fcolorbox{nbsphinx-code-border}{white}}%
\def\FrameCommand{\nbsphinxfcolorbox\nbsphinxfancyaddprompt\@empty}%
\def\FirstFrameCommand{\nbsphinxfcolorbox\nbsphinxfancyaddprompt\sphinxVerbatim@Continues}%
\def\MidFrameCommand{\nbsphinxfcolorbox\sphinxVerbatim@Continued\sphinxVerbatim@Continues}%
\def\LastFrameCommand{\nbsphinxfcolorbox\sphinxVerbatim@Continued\@empty}%
\MakeFramed{\advance\hsize-\width\@totalleftmargin\z@\linewidth\hsize\@setminipage}%
\lineskip=1ex\lineskiplimit=1ex\raggedright%
}{\par\unskip\@minipagefalse\endMakeFramed}
\makeatother
\newbox\nbsphinxpromptbox
\def\nbsphinxfancyaddprompt{\ifvoid\nbsphinxpromptbox\else
    \kern\fboxrule\kern\fboxsep
    \copy\nbsphinxpromptbox
    \kern-\ht\nbsphinxpromptbox\kern-\dp\nbsphinxpromptbox
    \kern-\fboxsep\kern-\fboxrule\nointerlineskip
    \fi}
\newlength\nbsphinxcodecellspacing
\setlength{\nbsphinxcodecellspacing}{0pt}

% Define support macros for attaching opening and closing lines to notebooks
\newsavebox\nbsphinxbox
\makeatletter
\newcommand{\nbsphinxstartnotebook}[1]{%
    \par
    % measure needed space
    \setbox\nbsphinxbox\vtop{{#1\par}}
    % reserve some space at bottom of page, else start new page
    \needspace{\dimexpr2.5\baselineskip+\ht\nbsphinxbox+\dp\nbsphinxbox}
    % mimick vertical spacing from \section command
      \addpenalty\@secpenalty
      \@tempskipa 3.5ex \@plus 1ex \@minus .2ex\relax
      \addvspace\@tempskipa
      {\Large\@tempskipa\baselineskip
             \advance\@tempskipa-\prevdepth
             \advance\@tempskipa-\ht\nbsphinxbox
             \ifdim\@tempskipa>\z@
               \vskip \@tempskipa
             \fi}
    \unvbox\nbsphinxbox
    % if notebook starts with a \section, prevent it from adding extra space
    \@nobreaktrue\everypar{\@nobreakfalse\everypar{}}%
    % compensate the parskip which will get inserted by next paragraph
    \nobreak\vskip-\parskip
    % do not break here
    \nobreak
}% end of \nbsphinxstartnotebook

\newcommand{\nbsphinxstopnotebook}[1]{%
    \par
    % measure needed space
    \setbox\nbsphinxbox\vbox{{#1\par}}
    \nobreak % it updates page totals
    \dimen@\pagegoal
    \advance\dimen@-\pagetotal \advance\dimen@-\pagedepth
    \advance\dimen@-\ht\nbsphinxbox \advance\dimen@-\dp\nbsphinxbox
    \ifdim\dimen@<\z@
      % little space left
      \unvbox\nbsphinxbox
      \kern-.8\baselineskip
      \nobreak\vskip\z@\@plus1fil
      \penalty100
      \vskip\z@\@plus-1fil
      \kern.8\baselineskip
    \else
      \unvbox\nbsphinxbox
    \fi
}% end of \nbsphinxstopnotebook

% Ensure height of an included graphics fits in nbsphinxfancyoutput frame
\newdimen\nbsphinx@image@maxheight % set in nbsphinxfancyoutput environment
\newcommand*{\nbsphinxincludegraphics}[2][]{%
    \gdef\spx@includegraphics@options{#1}%
    \setbox\spx@image@box\hbox{\includegraphics[#1,draft]{#2}}%
    \in@false
    \ifdim \wd\spx@image@box>\linewidth
      \g@addto@macro\spx@includegraphics@options{,width=\linewidth}%
      \in@true
    \fi
    % no rotation, no need to worry about depth
    \ifdim \ht\spx@image@box>\nbsphinx@image@maxheight
      \g@addto@macro\spx@includegraphics@options{,height=\nbsphinx@image@maxheight}%
      \in@true
    \fi
    \ifin@
      \g@addto@macro\spx@includegraphics@options{,keepaspectratio}%
    \fi
    \setbox\spx@image@box\box\voidb@x % clear memory
    \expandafter\includegraphics\expandafter[\spx@includegraphics@options]{#2}%
}% end of "\MakeFrame"-safe variant of \sphinxincludegraphics
\makeatother

\makeatletter
\renewcommand*\sphinx@verbatim@nolig@list{\do\'\do\`}
\begingroup
\catcode`'=\active
\let\nbsphinx@noligs\@noligs
\g@addto@macro\nbsphinx@noligs{\let'\PYGZsq}
\endgroup
\makeatother
\renewcommand*\sphinxbreaksbeforeactivelist{\do\<\do\"\do\'}
\renewcommand*\sphinxbreaksafteractivelist{\do\.\do\,\do\:\do\;\do\?\do\!\do\/\do\>\do\-}
\makeatletter
\fvset{codes*=\sphinxbreaksattexescapedchars\do\^\^\let\@noligs\nbsphinx@noligs}
\makeatother



\title{diag-eff Documentation}
\date{Apr 02, 2020}
\release{0.1}
\author{Robin Schwemmle}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}



\chapter{Welcome to diag\sphinxhyphen{}eff’s documentation!}
\label{\detokenize{index:welcome-to-diag-eff-s-documentation}}
\sphinxtitleref{diag\sphinxhyphen{}eff} is a package for diagnostic evaluation of hydrologic simulations. It
includes one main module \sphinxtitleref{de}. The module provides functions for calculating
model performance and for diagnostics.


\chapter{How to cite}
\label{\detokenize{index:how-to-cite}}
In case you use de in other software or scientific publications,
please reference this module. It is published and has a DOI. It can be cited
as:
\begin{quote}

Robin Schwemmle, Dominic Demand \& Markus Weiler (2020). diag\sphinxhyphen{}eff 0.1:
Diagnostic efficiency \textendash{} specific evaluation of model performance.
(Version v0.1). Zenodo. \sphinxurl{http://doi.org/10.5281/zenodo}…
\end{quote}


\section{Installation}
\label{\detokenize{install:installation}}\label{\detokenize{install::doc}}
The package can be installed directly from the Python Package Index or GitHub.
The version on GitHub might be more recent, as only stable versions are
uploaded to the Python Package Index.


\subsection{PyPI}
\label{\detokenize{install:pypi}}
The version from PyPI can directly be installed using pip

\begin{sphinxVerbatim}[commandchars=\\\{\}]
pip install diag\PYGZhy{}eff
\end{sphinxVerbatim}


\subsection{GitHub}
\label{\detokenize{install:github}}
The most recent version from GitHub can be installed like:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
git clone https://github.com/schwemro/diag\PYGZhy{}eff.git
\PYG{n+nb}{cd} diag\PYGZhy{}eff
pip install \PYGZhy{}r requirements.txt
pip install \PYGZhy{}e .
\end{sphinxVerbatim}


\subsection{Note}
\label{\detokenize{install:note}}
Depending on you OS, you might run into problems installing all requirements
in a clean Python environment. These problems are usually caused by the scipy
and numpy package, which might require to be compiled. Instead, We recommend to
use an environment manager like anaconda.
Then, the requirements can be installed like:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
conda install numpy, scipy
\end{sphinxVerbatim}


\section{Getting started}
\label{\detokenize{getting_started:getting-started}}\label{\detokenize{getting_started::doc}}

\subsection{Diagnostic Efficiency}
\label{\detokenize{getting_started:diagnostic-efficiency}}
Load the package \sphinxtitleref{de}. The calculation of the diagnostic efficiency
can be easily demonstrated on the provided example dataset.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{In [1]: }\PYG{k+kn}{from} \PYG{n+nn}{pathlib} \PYG{k+kn}{import} \PYG{n}{Path}  \PYG{c+c1}{\PYGZsh{} OS\PYGZhy{}independent path handling}

\PYG{g+gp}{In [2]: }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}

\PYG{g+gp}{In [3]: }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{util}

\PYG{g+go}{\PYGZsh{} path to example data}
\PYG{g+gp}{In [4]: }\PYG{n}{path} \PYG{o}{=} \PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{/Users/robinschwemmle/Desktop/PhD/diagnostic\PYGZus{}efficiency/diag\PYGZhy{}eff/examples/13331500\PYGZus{}94\PYGZus{}model\PYGZus{}output.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{g+go}{\PYGZsh{} import observed time series}
\PYG{g+gp}{In [5]: }\PYG{n}{df\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{import\PYGZus{}camels\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{path}\PYG{p}{)}

\PYG{g+go}{\PYGZsh{} make numpy arrays}
\PYG{g+gp}{In [6]: }\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{g+gp}{In [7]: }\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{g+go}{\PYGZsh{} calculate the diagnostic efficiency}
\PYG{g+gp}{In [8]: }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}de}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{g+gh}{Out[8]: }\PYG{g+go}{0.6804705642526816}
\end{sphinxVerbatim}


\subsection{Diagnostic polar plot}
\label{\detokenize{getting_started:diagnostic-polar-plot}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{In [9]: }\PYG{k+kn}{from} \PYG{n+nn}{pathlib} \PYG{k+kn}{import} \PYG{n}{Path}  \PYG{c+c1}{\PYGZsh{} OS\PYGZhy{}independent path handling}

\PYG{g+gp}{In [10]: }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}

\PYG{g+gp}{In [11]: }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{util}

\PYG{g+go}{\PYGZsh{} path to example data}
\PYG{g+gp}{In [12]: }\PYG{n}{path} \PYG{o}{=} \PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{/Users/robinschwemmle/Desktop/PhD/diagnostic\PYGZus{}efficiency/diag\PYGZhy{}eff/examples/13331500\PYGZus{}94\PYGZus{}model\PYGZus{}output.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{g+go}{\PYGZsh{} import observed time series}
\PYG{g+gp}{In [13]: }\PYG{n}{df\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{import\PYGZus{}camels\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{path}\PYG{p}{)}

\PYG{g+go}{\PYGZsh{} make numpy arrays}
\PYG{g+gp}{In [14]: }\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{g+gp}{In [15]: }\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{g+go}{\PYGZsh{} display diagnostic polar plots}
\PYG{g+gp}{In [16]: }\PYG{n}{de}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{g+gh}{Out[16]: }\PYG{g+go}{\PYGZlt{}Figure size 600x600 with 2 Axes\PYGZgt{}}
\end{sphinxVerbatim}

\noindent\sphinxincludegraphics[width=7in]{{default_diagnostic_plot}.png}


\section{Tutorials}
\label{\detokenize{tutorials/tutorials:tutorials}}\label{\detokenize{tutorials/tutorials::doc}}
The tutorials adopt section 3.1 and 3.2 from the paper.


\subsection{Proof of concept}
\label{\detokenize{tutorials/01_proof_of_concept:Proof-of-concept}}\label{\detokenize{tutorials/01_proof_of_concept::doc}}
This notebook provides a proof of concept for Diagnostic Efficiency.

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[4]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{k+kn}{import} \PYG{n+nn}{os}
\PYG{k+kn}{import} \PYG{n+nn}{sys}
\PYG{k+kn}{from} \PYG{n+nn}{pathlib} \PYG{k+kn}{import} \PYG{n}{Path}  \PYG{c+c1}{\PYGZsh{} OS\PYGZhy{}independent path handling}
\PYG{n}{os}\PYG{o}{.}\PYG{n}{chdir}\PYG{p}{(}\PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{../..}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{PATH} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{getcwd}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{sys}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{insert}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{PATH}\PYG{p}{)}

\PYG{k+kn}{import} \PYG{n+nn}{pandas} \PYG{k}{as} \PYG{n+nn}{pd}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{generate\PYGZus{}errors}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{kge}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{nse}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{util}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{fdc}

\PYG{k+kn}{import} \PYG{n+nn}{warnings}
\PYG{n}{warnings}\PYG{o}{.}\PYG{n}{filterwarnings}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ignore}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}
}


\subsubsection{Observed streamflow time series from CAMELS dataset}
\label{\detokenize{tutorials/01_proof_of_concept:Observed-streamflow-time-series-from-CAMELS-dataset}}
The observed and simulated streamflow time series are part of the open\sphinxhyphen{}source CAMELS dataset (Addor et al., 2017). The data can be downloaded from \sphinxurl{https://ncar.github.io/hydrology/datasets/CAMELS\_timeseries}.

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[5]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{area} \PYG{o}{=} \PYG{l+m+mf}{619.11}  \PYG{c+c1}{\PYGZsh{} catchment area in km2 to convert runoff to mm/day}
\PYG{n}{path} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{PATH}\PYG{p}{,} \PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{examples/13331500\PYGZus{}streamflow\PYGZus{}qc.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{df\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{import\PYGZus{}camels\PYGZus{}ts}\PYG{p}{(}\PYG{n}{path}\PYG{p}{,} \PYG{n}{sep}\PYG{o}{=}\PYG{l+s+sa}{r}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZbs{}}\PYG{l+s+s2}{s+}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{n}{catch\PYGZus{}area}\PYG{o}{=}\PYG{n}{area}\PYG{p}{)} \PYG{c+c1}{\PYGZsh{} import observed time series}
\PYG{n}{fig\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}ts}\PYG{p}{(}\PYG{n}{df\PYGZus{}ts}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=412\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_5_0}.png}

\end{nbsphinxfancyoutput}


\subsubsection{Mimicking errors}
\label{\detokenize{tutorials/01_proof_of_concept:Mimicking-errors}}\begin{itemize}
\item {} 
constant error (e.g. caused by consistently overestimated precipitation)

\item {} 
dynamic error (e.g. caused by storage routine)

\item {} 
timing error (e.g. caused by model parameters)

\end{itemize}


\paragraph{Positive constant error}
\label{\detokenize{tutorials/01_proof_of_concept:Positive-constant-error}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[3]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{obs\PYGZus{}sim} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}\PYG{n}{index}\PYG{o}{=}\PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{index}\PYG{p}{,} \PYG{n}{columns}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{obs\PYGZus{}sim}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{c+c1}{\PYGZsh{} generate positive constant error}
\PYG{n}{obs\PYGZus{}sim}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{generate\PYGZus{}errors}\PYG{o}{.}\PYG{n}{constant}\PYG{p}{(}\PYG{n}{df\PYGZus{}ts}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}\PYG{p}{,}
                                                  \PYG{n}{offset}\PYG{o}{=}\PYG{l+m+mf}{1.25}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} plot time series}
\PYG{n}{fig\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} plot flow duration curve}
\PYG{n}{fig\PYGZus{}fdc} \PYG{o}{=} \PYG{n}{fdc}\PYG{o}{.}\PYG{n}{fdc\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=397\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_9_0}.png}

\end{nbsphinxfancyoutput}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=418\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_9_1}.png}

\end{nbsphinxfancyoutput}

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[4]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{c+c1}{\PYGZsh{} make arrays}
\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} diagnostic polar plot}
\PYG{n}{fig\PYGZus{}dpp} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=404\sphinxpxdimen,height=439\sphinxpxdimen]{{tutorials_01_proof_of_concept_10_0}.png}

\end{nbsphinxfancyoutput}


\paragraph{Positive dynamic error}
\label{\detokenize{tutorials/01_proof_of_concept:Positive-dynamic-error}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[5]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{obs\PYGZus{}sim} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}\PYG{n}{index}\PYG{o}{=}\PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{index}\PYG{p}{,} \PYG{n}{columns}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{obs\PYGZus{}sim}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{c+c1}{\PYGZsh{} generate positive dynamic error}
\PYG{n}{tsd} \PYG{o}{=} \PYG{n}{generate\PYGZus{}errors}\PYG{o}{.}\PYG{n}{positive\PYGZus{}dynamic}\PYG{p}{(}\PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{copy}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{prop}\PYG{o}{=}\PYG{l+m+mf}{0.5}\PYG{p}{)}
\PYG{n}{obs\PYGZus{}sim}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{tsd}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} plot time series}
\PYG{n}{fig\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} plot flow duration curve}
\PYG{n}{fig\PYGZus{}fdc} \PYG{o}{=} \PYG{n}{fdc}\PYG{o}{.}\PYG{n}{fdc\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=397\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_12_0}.png}

\end{nbsphinxfancyoutput}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=418\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_12_1}.png}

\end{nbsphinxfancyoutput}

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[6]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{c+c1}{\PYGZsh{} make arrays}
\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} diagnostic polar plot}
\PYG{n}{fig\PYGZus{}dpp} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=404\sphinxpxdimen,height=439\sphinxpxdimen]{{tutorials_01_proof_of_concept_13_0}.png}

\end{nbsphinxfancyoutput}


\paragraph{Timing error}
\label{\detokenize{tutorials/01_proof_of_concept:Timing-error}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[7]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{obs\PYGZus{}sim} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}\PYG{n}{index}\PYG{o}{=}\PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{index}\PYG{p}{,} \PYG{n}{columns}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{obs\PYGZus{}sim}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{c+c1}{\PYGZsh{} generate timing error}
\PYG{n}{tss} \PYG{o}{=} \PYG{n}{generate\PYGZus{}errors}\PYG{o}{.}\PYG{n}{timing}\PYG{p}{(}\PYG{n}{df\PYGZus{}ts}\PYG{o}{.}\PYG{n}{copy}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{shuffle}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}  \PYG{c+c1}{\PYGZsh{} shuffling}
\PYG{n}{obs\PYGZus{}sim}\PYG{o}{.}\PYG{n}{loc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{tss}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{p}{:}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} plot time series}
\PYG{n}{fig\PYGZus{}ts} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} plot flow duration curve}
\PYG{n}{fig\PYGZus{}fdc} \PYG{o}{=} \PYG{n}{fdc}\PYG{o}{.}\PYG{n}{fdc\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=408\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_15_0}.png}

\end{nbsphinxfancyoutput}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=418\sphinxpxdimen,height=270\sphinxpxdimen]{{tutorials_01_proof_of_concept_15_1}.png}

\end{nbsphinxfancyoutput}

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[8]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{c+c1}{\PYGZsh{} make arrays}
\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{obs\PYGZus{}sim}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} diagnostic polar plot}
\PYG{n}{fig\PYGZus{}dpp} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=404\sphinxpxdimen,height=439\sphinxpxdimen]{{tutorials_01_proof_of_concept_16_0}.png}

\end{nbsphinxfancyoutput}

In this case, dynamic error types cannot be distinguished from each other. Thus, the arrow extends in both directions.


\subsubsection{References}
\label{\detokenize{tutorials/01_proof_of_concept:References}}
Addor, N., Newman, A. J., Mizukami, N., and Clark, M. P.: The CAMELS data set: catchment attributes and meteorology for large\sphinxhyphen{}sample studies, in, version 2.0 ed., Boulder, CO: UCAR/NCAR, 2017.


\subsection{Real case example}
\label{\detokenize{tutorials/02_real_case_application:Real-case-example}}\label{\detokenize{tutorials/02_real_case_application::doc}}
This notebook demonstrates the applicability of Diagnostic Efficiency to a real case example.

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[17]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{k+kn}{import} \PYG{n+nn}{os}
\PYG{k+kn}{import} \PYG{n+nn}{sys}
\PYG{k+kn}{from} \PYG{n+nn}{pathlib} \PYG{k+kn}{import} \PYG{n}{Path}  \PYG{c+c1}{\PYGZsh{} OS\PYGZhy{}independent path handling}
\PYG{n}{os}\PYG{o}{.}\PYG{n}{chdir}\PYG{p}{(}\PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{../..}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{PATH} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{getcwd}\PYG{p}{(}\PYG{p}{)}
\PYG{n}{sys}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{insert}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{PATH}\PYG{p}{)}

\PYG{k+kn}{import} \PYG{n+nn}{pandas} \PYG{k}{as} \PYG{n+nn}{pd}
\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{pyplot} \PYG{k}{as} \PYG{n+nn}{plt}
\PYG{k+kn}{import} \PYG{n+nn}{matplotlib}\PYG{n+nn}{.}\PYG{n+nn}{dates} \PYG{k}{as} \PYG{n+nn}{mdates}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{kge}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{nse}
\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{util}

\PYG{k+kn}{import} \PYG{n+nn}{warnings}
\PYG{n}{warnings}\PYG{o}{.}\PYG{n}{filterwarnings}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{ignore}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}
}


\subsubsection{Observed streamflow time series and simulated streamflow time series from CAMELS dataset}
\label{\detokenize{tutorials/02_real_case_application:Observed-streamflow-time-series-and-simulated-streamflow-time-series-from-CAMELS-dataset}}
In order to demonstrate the applicability, we here use simulated streamflow time series which have been derived from Addor et al. (2017). Streamflow time series have been simulated by the coupled Snow\sphinxhyphen{}17 and SAC\sphinxhyphen{}SMA system for the same catchment as in Fig. 1. We briefly summarize here their modelling approach consisting of Snow\sphinxhyphen{}17 which “is a conceptual air\sphinxhyphen{} temperature\sphinxhyphen{}index snow accumulation and ablation model” (Newman et al., 2015) and SAC\sphinxhyphen{}SMA model which is “a conceptual hydrologic model
that includes representation of physical processes such as evapotranspiration, percolation, surface flow, and subsurface lateral flow” (Newman et al., 2015). Snow\sphinxhyphen{}17 runs first to partition precipitation into rain and snow and delivers the input for SAC\sphinxhyphen{}SMA model. For further details about the modelling procedure we refer to section 3.1 in Newman et al. (2015). In particular, we evaluated three model runs with different parameter sets, but the same input data.

{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[4]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{path\PYGZus{}cam1} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{PATH}\PYG{p}{,} \PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{examples/13331500\PYGZus{}05\PYGZus{}model\PYGZus{}output.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{path\PYGZus{}cam2} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{PATH}\PYG{p}{,} \PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{examples/13331500\PYGZus{}48\PYGZus{}model\PYGZus{}output.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{path\PYGZus{}cam3} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{PATH}\PYG{p}{,} \PYG{n}{Path}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{examples/13331500\PYGZus{}94\PYGZus{}model\PYGZus{}output.txt}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}\PYG{p}{)}
\PYG{n}{df\PYGZus{}cam1} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{import\PYGZus{}camels\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{path\PYGZus{}cam1}\PYG{p}{)}
\PYG{n}{df\PYGZus{}cam2} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{import\PYGZus{}camels\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{path\PYGZus{}cam2}\PYG{p}{)}
\PYG{n}{df\PYGZus{}cam3} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{import\PYGZus{}camels\PYGZus{}obs\PYGZus{}sim}\PYG{p}{(}\PYG{n}{path\PYGZus{}cam3}\PYG{p}{)}
\end{sphinxVerbatim}
}


\subsubsection{Plotting simulated streamflow time series and corresponding flow duration curves}
\label{\detokenize{tutorials/02_real_case_application:Plotting-simulated-streamflow-time-series-and-corresponding-flow-duration-curves}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[13]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{idx} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{05}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{48}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{94}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{fig}\PYG{p}{,} \PYG{n}{axes} \PYG{o}{=} \PYG{n}{plt}\PYG{o}{.}\PYG{n}{subplots}\PYG{p}{(}\PYG{l+m+mi}{3}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{figsize}\PYG{o}{=}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{,} \PYG{l+m+mi}{10}\PYG{p}{)}\PYG{p}{,} \PYG{n}{sharex}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{col}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{fig}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{l+m+mf}{0.06}\PYG{p}{,} \PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{[mm \PYGZdl{}d\PYGZca{}}\PYG{l+s+s1}{\PYGZob{}}\PYG{l+s+s1}{\PYGZhy{}1\PYGZcb{}\PYGZdl{}]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
         \PYG{n}{rotation}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{vertical}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{fig}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+m+mf}{0.5}\PYG{p}{,} \PYG{l+s+sa}{r}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{[mm \PYGZdl{}d\PYGZca{}}\PYG{l+s+s1}{\PYGZob{}}\PYG{l+s+s1}{\PYGZhy{}1\PYGZcb{}\PYGZdl{}]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
         \PYG{n}{rotation}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{vertical}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{fig}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{l+m+mf}{0.25}\PYG{p}{,} \PYG{l+m+mf}{0.05}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Time [Years]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{fig}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{l+m+mf}{0.75}\PYG{p}{,} \PYG{l+m+mf}{0.05}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Exceedence probabilty [\PYGZhy{}]}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{center}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}obs\PYGZus{}sim\PYGZus{}ax}\PYG{p}{(}\PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(a; set\PYGZus{}id: }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{idx}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
                \PYG{n}{transform}\PYG{o}{=}\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transAxes}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{right}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{top}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} format the ticks}
\PYG{n}{years\PYGZus{}10} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{YearLocator}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n}{years\PYGZus{}5} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{YearLocator}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
\PYG{n}{yearsFmt} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{DateFormatter}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZpc{}}\PYG{l+s+s1}{Y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}major\PYGZus{}locator}\PYG{p}{(}\PYG{n}{years\PYGZus{}10}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}major\PYGZus{}formatter}\PYG{p}{(}\PYG{n}{yearsFmt}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}minor\PYGZus{}locator}\PYG{p}{(}\PYG{n}{years\PYGZus{}5}\PYG{p}{)}
\PYG{n}{util}\PYG{o}{.}\PYG{n}{fdc\PYGZus{}obs\PYGZus{}sim\PYGZus{}ax}\PYG{p}{(}\PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(b; set\PYGZus{}id: }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{idx}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
                \PYG{n}{transform}\PYG{o}{=}\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transAxes}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{right}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{top}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} legend above plot}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{legend}\PYG{p}{(}\PYG{n}{loc}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{labels}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Observed}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Simulated}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{ncol}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,}
                  \PYG{n}{frameon}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{,} \PYG{n}{bbox\PYGZus{}to\PYGZus{}anchor}\PYG{o}{=}\PYG{p}{(}\PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{0.6}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{)}\PYG{p}{)}

\PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}obs\PYGZus{}sim\PYGZus{}ax}\PYG{p}{(}\PYG{n}{df\PYGZus{}cam2}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{df\PYGZus{}cam2}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(c; set\PYGZus{}id: }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{idx}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
                \PYG{n}{transform}\PYG{o}{=}\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transAxes}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{right}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{top}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} format the ticks}
\PYG{n}{years\PYGZus{}10} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{YearLocator}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n}{years\PYGZus{}5} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{YearLocator}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
\PYG{n}{yearsFmt} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{DateFormatter}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZpc{}}\PYG{l+s+s1}{Y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}major\PYGZus{}locator}\PYG{p}{(}\PYG{n}{years\PYGZus{}10}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}major\PYGZus{}formatter}\PYG{p}{(}\PYG{n}{yearsFmt}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}minor\PYGZus{}locator}\PYG{p}{(}\PYG{n}{years\PYGZus{}5}\PYG{p}{)}
\PYG{n}{util}\PYG{o}{.}\PYG{n}{fdc\PYGZus{}obs\PYGZus{}sim\PYGZus{}ax}\PYG{p}{(}\PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(d; set\PYGZus{}id: }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{idx}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
                \PYG{n}{transform}\PYG{o}{=}\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transAxes}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{right}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{top}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

\PYG{n}{util}\PYG{o}{.}\PYG{n}{plot\PYGZus{}obs\PYGZus{}sim\PYGZus{}ax}\PYG{p}{(}\PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(e; set\PYGZus{}id: }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{idx}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
                \PYG{n}{transform}\PYG{o}{=}\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transAxes}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{right}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{top}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} format the ticks}
\PYG{n}{years\PYGZus{}10} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{YearLocator}\PYG{p}{(}\PYG{l+m+mi}{10}\PYG{p}{)}
\PYG{n}{years\PYGZus{}5} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{YearLocator}\PYG{p}{(}\PYG{l+m+mi}{5}\PYG{p}{)}
\PYG{n}{yearsFmt} \PYG{o}{=} \PYG{n}{mdates}\PYG{o}{.}\PYG{n}{DateFormatter}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZpc{}}\PYG{l+s+s1}{Y}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}major\PYGZus{}locator}\PYG{p}{(}\PYG{n}{years\PYGZus{}10}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}major\PYGZus{}formatter}\PYG{p}{(}\PYG{n}{yearsFmt}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{xaxis}\PYG{o}{.}\PYG{n}{set\PYGZus{}minor\PYGZus{}locator}\PYG{p}{(}\PYG{n}{years\PYGZus{}5}\PYG{p}{)}
\PYG{n}{util}\PYG{o}{.}\PYG{n}{fdc\PYGZus{}obs\PYGZus{}sim\PYGZus{}ax}\PYG{p}{(}\PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{p}{,} \PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{text}\PYG{p}{(}\PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{o}{.}\PYG{l+m+mi}{95}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{(f; set\PYGZus{}id: }\PYG{l+s+si}{\PYGZob{}\PYGZcb{}}\PYG{l+s+s1}{)}\PYG{l+s+s1}{\PYGZsq{}}\PYG{o}{.}\PYG{n}{format}\PYG{p}{(}\PYG{n}{idx}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}\PYG{p}{,}
                \PYG{n}{transform}\PYG{o}{=}\PYG{n}{axes}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{.}\PYG{n}{transAxes}\PYG{p}{,} \PYG{n}{ha}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{right}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{n}{va}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{top}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
\end{sphinxVerbatim}
}

{

\kern-\sphinxverbatimsmallskipamount\kern-\baselineskip
\kern+\FrameHeightAdjust\kern-\fboxrule
\vspace{\nbsphinxcodecellspacing}

\sphinxsetup{VerbatimColor={named}{white}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxout}[13]:\,\hspace{\fboxrule}\hspace{\fboxsep}}Text(0.95, 0.95, '(f; set\_id: 94)')
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=639\sphinxpxdimen,height=644\sphinxpxdimen]{{tutorials_02_real_case_application_7_1}.png}

\end{nbsphinxfancyoutput}


\subsubsection{Evaluation of model performance}
\label{\detokenize{tutorials/02_real_case_application:Evaluation-of-model-performance}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[21]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{c+c1}{\PYGZsh{} create dataframe for comparison of DE, KGE and NSE}
\PYG{n}{idx} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{05}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{48}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{94}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{cols} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{brel\PYGZus{}mean}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b\PYGZus{}area}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{temp\PYGZus{}cor}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{de}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b\PYGZus{}dir}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b\PYGZus{}slope}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}
        \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{phi}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{beta}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{alpha}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{kge}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{nse}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}\PYG{n}{index}\PYG{o}{=}\PYG{n}{idx}\PYG{p}{,} \PYG{n}{columns}\PYG{o}{=}\PYG{n}{cols}\PYG{p}{,} \PYG{n}{dtype}\PYG{o}{=}\PYG{n}{np}\PYG{o}{.}\PYG{n}{float64}\PYG{p}{)}
\end{sphinxVerbatim}
}


\paragraph{Calculation of DE, KGE and NSE}
\label{\detokenize{tutorials/02_real_case_application:Calculation-of-DE,-KGE-and-NSE}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[22]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{c+c1}{\PYGZsh{} make arrays}
\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}cam1}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} mean relative bias}
\PYG{n}{brel\PYGZus{}mean} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}mean}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{=} \PYG{n}{brel\PYGZus{}mean}
\PYG{c+c1}{\PYGZsh{} residual relative bias}
\PYG{n}{brel\PYGZus{}res} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}res}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} area of relative remaing bias}
\PYG{n}{b\PYGZus{}area} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}area}\PYG{p}{(}\PYG{n}{brel\PYGZus{}res}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}area}
\PYG{c+c1}{\PYGZsh{} temporal correlation}
\PYG{n}{temp\PYGZus{}cor} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}temp\PYGZus{}cor}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]} \PYG{o}{=} \PYG{n}{temp\PYGZus{}cor}
\PYG{c+c1}{\PYGZsh{} diagnostic efficiency}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{]} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}de}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} direction of bias}
\PYG{n}{b\PYGZus{}dir} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}dir}\PYG{p}{(}\PYG{n}{brel\PYGZus{}res}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}dir}
\PYG{c+c1}{\PYGZsh{} slope of bias}
\PYG{n}{b\PYGZus{}slope} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}slope}\PYG{p}{(}\PYG{n}{b\PYGZus{}area}\PYG{p}{,} \PYG{n}{b\PYGZus{}dir}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}slope}
\PYG{c+c1}{\PYGZsh{} convert to radians}
\PYG{c+c1}{\PYGZsh{} (y, x) Trigonometric inverse tangent}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{]} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arctan2}\PYG{p}{(}\PYG{n}{brel\PYGZus{}mean}\PYG{p}{,} \PYG{n}{b\PYGZus{}slope}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} KGE beta}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{7}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}beta}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} KGE alpha}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{8}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}alpha}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} KGE}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} NSE}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{10}\PYG{p}{]} \PYG{o}{=} \PYG{n}{nse}\PYG{o}{.}\PYG{n}{calc\PYGZus{}nse}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} make arrays}
\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}cam2}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}cam2}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} mean relative bias}
\PYG{n}{brel\PYGZus{}mean} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}mean}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{=} \PYG{n}{brel\PYGZus{}mean}
\PYG{c+c1}{\PYGZsh{} residual relative bias}
\PYG{n}{brel\PYGZus{}res} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}res}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} area of relative remaing bias}
\PYG{n}{b\PYGZus{}area} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}area}\PYG{p}{(}\PYG{n}{brel\PYGZus{}res}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}area}
\PYG{c+c1}{\PYGZsh{} temporal correlation}
\PYG{n}{temp\PYGZus{}cor} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}temp\PYGZus{}cor}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]} \PYG{o}{=} \PYG{n}{temp\PYGZus{}cor}
\PYG{c+c1}{\PYGZsh{} diagnostic efficiency}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{]} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}de}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} direction of bias}
\PYG{n}{b\PYGZus{}dir} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}dir}\PYG{p}{(}\PYG{n}{brel\PYGZus{}res}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}dir}
\PYG{c+c1}{\PYGZsh{} slope of bias}
\PYG{n}{b\PYGZus{}slope} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}slope}\PYG{p}{(}\PYG{n}{b\PYGZus{}area}\PYG{p}{,} \PYG{n}{b\PYGZus{}dir}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}slope}
\PYG{c+c1}{\PYGZsh{} convert to radians}
\PYG{c+c1}{\PYGZsh{} (y, x) Trigonometric inverse tangent}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{]} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arctan2}\PYG{p}{(}\PYG{n}{brel\PYGZus{}mean}\PYG{p}{,} \PYG{n}{b\PYGZus{}slope}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} KGE beta}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{7}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}beta}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} KGE alpha}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{8}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}alpha}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} KGE}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} NSE}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mi}{10}\PYG{p}{]} \PYG{o}{=} \PYG{n}{nse}\PYG{o}{.}\PYG{n}{calc\PYGZus{}nse}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} make arrays}
\PYG{n}{obs\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}cam3}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qobs}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{sim\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}cam3}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{Qsim}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{c+c1}{\PYGZsh{} mean relative bias}
\PYG{n}{brel\PYGZus{}mean} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}mean}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{=} \PYG{n}{brel\PYGZus{}mean}
\PYG{c+c1}{\PYGZsh{} residual relative bias}
\PYG{n}{brel\PYGZus{}res} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}res}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} area of relative remaing bias}
\PYG{n}{b\PYGZus{}area} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}area}\PYG{p}{(}\PYG{n}{brel\PYGZus{}res}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}area}
\PYG{c+c1}{\PYGZsh{} temporal correlation}
\PYG{n}{temp\PYGZus{}cor} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}temp\PYGZus{}cor}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]} \PYG{o}{=} \PYG{n}{temp\PYGZus{}cor}
\PYG{c+c1}{\PYGZsh{} diagnostic efficiency}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{3}\PYG{p}{]} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}de}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} direction of bias}
\PYG{n}{b\PYGZus{}dir} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}dir}\PYG{p}{(}\PYG{n}{brel\PYGZus{}res}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{4}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}dir}
\PYG{c+c1}{\PYGZsh{} slope of bias}
\PYG{n}{b\PYGZus{}slope} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}slope}\PYG{p}{(}\PYG{n}{b\PYGZus{}area}\PYG{p}{,} \PYG{n}{b\PYGZus{}dir}\PYG{p}{)}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{5}\PYG{p}{]} \PYG{o}{=} \PYG{n}{b\PYGZus{}slope}
\PYG{c+c1}{\PYGZsh{} convert to radians}
\PYG{c+c1}{\PYGZsh{} (y, x) Trigonometric inverse tangent}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{6}\PYG{p}{]} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{arctan2}\PYG{p}{(}\PYG{n}{brel\PYGZus{}mean}\PYG{p}{,} \PYG{n}{b\PYGZus{}slope}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} KGE beta}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{7}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}beta}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} KGE alpha}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{8}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}alpha}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} KGE}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{9}\PYG{p}{]} \PYG{o}{=} \PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} NSE}
\PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{o}{.}\PYG{n}{iloc}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{l+m+mi}{10}\PYG{p}{]} \PYG{o}{=} \PYG{n}{nse}\PYG{o}{.}\PYG{n}{calc\PYGZus{}nse}\PYG{p}{(}\PYG{n}{obs\PYGZus{}arr}\PYG{p}{,} \PYG{n}{sim\PYGZus{}arr}\PYG{p}{)}
\end{sphinxVerbatim}
}


\subsubsection{Diagnostic polar plot}
\label{\detokenize{tutorials/02_real_case_application:Diagnostic-polar-plot}}
{
\sphinxsetup{VerbatimColor={named}{nbsphinx-code-bg}}
\sphinxsetup{VerbatimBorderColor={named}{nbsphinx-code-border}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\llap{\color{nbsphinxin}[23]:\,\hspace{\fboxrule}\hspace{\fboxsep}}\PYG{n}{brel\PYGZus{}mean\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{brel\PYGZus{}mean}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{b\PYGZus{}area\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b\PYGZus{}area}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{temp\PYGZus{}cor\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{temp\PYGZus{}cor}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{b\PYGZus{}dir\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b\PYGZus{}dir}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{de\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{de}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{phi\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{phi}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}
\PYG{n}{b\PYGZus{}slope\PYGZus{}arr} \PYG{o}{=} \PYG{n}{df\PYGZus{}eff\PYGZus{}cam}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{b\PYGZus{}slope}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{values}

\PYG{n}{fig\PYGZus{}de} \PYG{o}{=} \PYG{n}{util}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot\PYGZus{}multi\PYGZus{}fc}\PYG{p}{(}\PYG{n}{brel\PYGZus{}mean\PYGZus{}arr}\PYG{p}{,} \PYG{n}{b\PYGZus{}area\PYGZus{}arr}\PYG{p}{,}
                                       \PYG{n}{temp\PYGZus{}cor\PYGZus{}arr}\PYG{p}{,} \PYG{n}{de\PYGZus{}arr}\PYG{p}{,} \PYG{n}{b\PYGZus{}dir\PYGZus{}arr}\PYG{p}{,}
                                       \PYG{n}{phi\PYGZus{}arr}\PYG{p}{,} \PYG{n}{idx}\PYG{p}{,} \PYG{n}{ax\PYGZus{}lim}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}
\end{sphinxVerbatim}
}

\hrule height -\fboxrule\relax
\vspace{\nbsphinxcodecellspacing}

\makeatletter\setbox\nbsphinxpromptbox\box\voidb@x\makeatother

\begin{nbsphinxfancyoutput}

\noindent\sphinxincludegraphics[width=407\sphinxpxdimen,height=439\sphinxpxdimen]{{tutorials_02_real_case_application_13_0}.png}

\end{nbsphinxfancyoutput}

Simulations realised by parameter set with set\_id 94 outperform the other parameter sets. All simulations have in common, that positive dynamic error type (i.e. high flows are underestimated and low flows are overestimated) dominates accompanied by a slight positive constant error. Timing contributes least to the error.

After identifying the error types and its contributions, we can infer hints on how to improve the simulations. From a process\sphinxhyphen{} based (perceptual) perspective, the apparent negative dynamic error described by high flow underestimation and low flow overestimation suggest that process realism (e.g. snow melt, infiltration, storage outflow) appears to be deficient. Measures for improvement could start with adjusting the model parameters (e.g. refining the calibration procedure). If necessary, a
follow\sphinxhyphen{}up measure could be to alter the model structure (e.g. adjusting the model equations). Additionally, there is positive constant error available. Because a constant error may be linked to input data errors, this implies that adjusting the input data (e.g. precipitation correction) might amend the simulations.


\subsubsection{References}
\label{\detokenize{tutorials/02_real_case_application:References}}
Addor, N., Newman, A. J., Mizukami, N., and Clark, M. P.: The CAMELS data set: catchment attributes and meteorology for large\sphinxhyphen{}sample studies, in, version 2.0 ed., Boulder, CO: UCAR/NCAR, 2017.

Newman, A. J., Clark, M. P., Sampson, K., Wood, A., Hay, L. E., Bock, A., Viger, R. J., Blodgett, D., Brekke, L., Arnold, J. R., Hopson, T., and Duan, Q.: Development of a large\sphinxhyphen{}sample watershed\sphinxhyphen{}scale hydrometeorological data set for the contiguous USA: data set characteristics and assessment of regional variability in hydrologic model performance, Hydrol. Earth Syst. Sci., 19, 209\sphinxhyphen{}223, 10.5194/hess\sphinxhyphen{}19\sphinxhyphen{}209\sphinxhyphen{}2015, 2015.


\section{Code Reference}
\label{\detokenize{reference/reference:code-reference}}\label{\detokenize{reference/reference::doc}}

\subsection{de}
\label{\detokenize{reference/de:de}}\label{\detokenize{reference/de::doc}}

\subsubsection{Diagnostic Efficiency}
\label{\detokenize{reference/de:diagnostic-efficiency}}\index{calc\_de() (in module de.de)@\spxentry{calc\_de()}\spxextra{in module de.de}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/de:de.de.calc_de}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.de.}}\sphinxbfcode{\sphinxupquote{calc\_de}}}{\emph{obs}, \emph{sim}, \emph{sort=True}}{}
Calculate Diagnostic\sphinxhyphen{}Efficiency (DE).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sort}} (\sphinxstyleliteralemphasis{\sphinxupquote{boolean}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} If True, time series are sorted by ascending order. If False, time
series are not sorted. The default is to sort.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{eff} \textendash{} non\sphinxhyphen{}normalized Diagnostic efficiency

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}DE = 1 - \sqrt{\overline{B_{rel}}^2 + \vert B_{area}\vert^2 + (r - 1)^2}\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}de}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{0.8202204384691575}
\end{sphinxVerbatim}

\end{fulllineitems}



\subsubsection{Constant error term}
\label{\detokenize{reference/de:constant-error-term}}\index{calc\_brel\_mean() (in module de.de)@\spxentry{calc\_brel\_mean()}\spxextra{in module de.de}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/de:de.de.calc_brel_mean}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.de.}}\sphinxbfcode{\sphinxupquote{calc\_brel\_mean}}}{\emph{obs}, \emph{sim}, \emph{sort=True}}{}
Calculate arithmetic mean of relative bias.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} simulated time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sort}} (\sphinxstyleliteralemphasis{\sphinxupquote{boolean}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} If True, time series are sorted by ascending order. If False, time
series are not sorted. The default is to sort.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{brel\_mean} \textendash{} average relative bias

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}\overline{B_{rel}} = \frac{1}{N}\sum_{i=1}^{N} B_{rel}(i)\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}mean}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{0.09330065359477124}
\end{sphinxVerbatim}

\end{fulllineitems}



\subsubsection{Dynamic error term}
\label{\detokenize{reference/de:dynamic-error-term}}\index{calc\_bias\_area() (in module de.de)@\spxentry{calc\_bias\_area()}\spxextra{in module de.de}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/de:de.de.calc_bias_area}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.de.}}\sphinxbfcode{\sphinxupquote{calc\_bias\_area}}}{\emph{brel\_res}}{}
Calculate absolute bias area for entire flow duration curve.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode
\sphinxstyleliteralstrong{\sphinxupquote{brel\_res}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} remaining relative bias as 1\sphinxhyphen{}D array

\item[{Returns}] \leavevmode
\sphinxstylestrong{b\_area} \textendash{} bias area

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}\vert B_{area}\vert = \int_{0}^{1}\vert B_{rest}(i)\vert di\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{b\PYGZus{}res} \PYG{o}{=} \PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}brel\PYGZus{}res}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}bias\PYGZus{}area}\PYG{p}{(}\PYG{n}{b\PYGZus{}res}\PYG{p}{)}
\PYG{g+go}{0.1112908496732026}
\end{sphinxVerbatim}


\sphinxstrong{See also:}


\sphinxcode{\sphinxupquote{de.calc\_brel\_res()}}



\end{fulllineitems}



\subsubsection{Timing error term}
\label{\detokenize{reference/de:timing-error-term}}\index{calc\_temp\_cor() (in module de.de)@\spxentry{calc\_temp\_cor()}\spxextra{in module de.de}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/de:de.de.calc_temp_cor}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.de.}}\sphinxbfcode{\sphinxupquote{calc\_temp\_cor}}}{\emph{obs}, \emph{sim}, \emph{r=\textquotesingle{}pearson\textquotesingle{}}}{}
Calculate temporal correlation between observed and simulated
time series.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{r}} (\sphinxhref{https://docs.python.org/3.7/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Either Spearman correlation coefficient (‘spearman’) or Pearson
correlation coefficient (‘pearson’) can be used to describe the temporal
correlation. The default is to calculate the Pearson correlation.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{temp\_cor} \textendash{} correlation between observed and simulated time series

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}temp\PYGZus{}cor}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{0.8940281850583509}
\end{sphinxVerbatim}

\end{fulllineitems}



\subsubsection{Diagnostic Polar Plot}
\label{\detokenize{reference/de:diagnostic-polar-plot}}\index{diag\_polar\_plot() (in module de.de)@\spxentry{diag\_polar\_plot()}\spxextra{in module de.de}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/de:de.de.diag_polar_plot}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.de.}}\sphinxbfcode{\sphinxupquote{diag\_polar\_plot}}}{\emph{obs}, \emph{sim}, \emph{sort=True}, \emph{l=0.05}, \emph{extended=False}}{}
Diagnostic polar plot of Diagnostic efficiency (DE) for a single
evaluation.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sort}} (\sphinxstyleliteralemphasis{\sphinxupquote{boolean}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} If True, time series are sorted by ascending order. If False, time
series are not sorted. The default is to sort.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{l}} (\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{\sphinxstyleliteralemphasis{\sphinxupquote{float}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Threshold for which diagnosis can be made. The default is 0.05.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{extended}} (\sphinxstyleliteralemphasis{\sphinxupquote{boolean}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} If True, extended diagnostic plot is displayed. In addtion, the
duration curve of B\_rest is plotted besides the polar plot. The default
is, that only the diagnostic polar plot is displayed.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{fig} \textendash{} Returns a single figure if extended=False and two figures if
extended=True.

\item[{Return type}] \leavevmode
Figure

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}\varphi = arctan2(\overline{B_{rel}}, B_{slope})\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\end{sphinxVerbatim}

\end{fulllineitems}



\subsection{generate\_errors}
\label{\detokenize{reference/generate_errors:generate-errors}}\label{\detokenize{reference/generate_errors::doc}}

\subsubsection{Constant error}
\label{\detokenize{reference/generate_errors:constant-error}}\index{constant() (in module de.generate\_errors)@\spxentry{constant()}\spxextra{in module de.generate\_errors}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/generate_errors:de.generate_errors.constant}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.generate\_errors.}}\sphinxbfcode{\sphinxupquote{constant}}}{\emph{ts}, \emph{offset=1.5}}{}
Generate constant errors.

Constant errors are generated by multiplying with either constant positive
offset or constant negative offset.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{ts}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{offset}} (\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{\sphinxstyleliteralemphasis{\sphinxupquote{float}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Offset multiplied to time series. If greater than 1 positive constant
offset and if less than 1 negative constant offset. The default is 1.5.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{ts\_const} \textendash{} Time series with constant error

\item[{Return type}] \leavevmode
array\_like

\end{description}\end{quote}

\end{fulllineitems}



\subsubsection{Dynamic error}
\label{\detokenize{reference/generate_errors:dynamic-error}}\index{positive\_dynamic() (in module de.generate\_errors)@\spxentry{positive\_dynamic()}\spxextra{in module de.generate\_errors}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/generate_errors:de.generate_errors.positive_dynamic}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.generate\_errors.}}\sphinxbfcode{\sphinxupquote{positive\_dynamic}}}{\emph{ts}, \emph{prop=0.5}}{}
Generate positive dynamic errors (i.e. Overestimate high flows \sphinxhyphen{}
Underestimate low flows)

High to medium flows are increased by linear decreasing factors. Medium to
low flows are decreased by linear decreasing factors.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{ts}} (\sphinxstyleliteralemphasis{\sphinxupquote{dataframe}}) \textendash{} Dataframe with time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{prop}} (\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{\sphinxstyleliteralemphasis{\sphinxupquote{float}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Factor by which time series is tilted.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{ts\_dyn} \textendash{} Time series with positive dynamic error

\item[{Return type}] \leavevmode
dataframe

\end{description}\end{quote}

\end{fulllineitems}

\index{negative\_dynamic() (in module de.generate\_errors)@\spxentry{negative\_dynamic()}\spxextra{in module de.generate\_errors}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/generate_errors:de.generate_errors.negative_dynamic}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.generate\_errors.}}\sphinxbfcode{\sphinxupquote{negative\_dynamic}}}{\emph{ts}, \emph{prop=0.5}}{}
Generate negative dynamic error (i.e Underestimate high flows \sphinxhyphen{}
Overestimate low flows)

High to medium flows are decreased by linear increasing factors. Medium to
low flows are increased by linear increasing factors.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{ts}} (\sphinxstyleliteralemphasis{\sphinxupquote{dataframe}}) \textendash{} Observed time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{prop}} (\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{\sphinxstyleliteralemphasis{\sphinxupquote{float}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Factor by which time series is tilted.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{ts\_dyn} \textendash{} Time series with negative dynamic error

\item[{Return type}] \leavevmode
dataframe

\end{description}\end{quote}

\end{fulllineitems}



\subsubsection{Timing error}
\label{\detokenize{reference/generate_errors:timing-error}}\index{timing() (in module de.generate\_errors)@\spxentry{timing()}\spxextra{in module de.generate\_errors}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/generate_errors:de.generate_errors.timing}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.generate\_errors.}}\sphinxbfcode{\sphinxupquote{timing}}}{\emph{ts}, \emph{tshift=3}, \emph{shuffle=True}}{}
Mimicking timing errors.

Timing errors are generated by either shifting or shuffling.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{ts}} (\sphinxstyleliteralemphasis{\sphinxupquote{dataframe}}) \textendash{} dataframe with time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{tshift}} (\sphinxhref{https://docs.python.org/3.7/library/functions.html\#int}{\sphinxstyleliteralemphasis{\sphinxupquote{int}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} days by which time series is shifted. Both positive and negative
time shift are possible. The default is 3 days.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{shuffle}} (\sphinxstyleliteralemphasis{\sphinxupquote{boolean}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} If True, time series is shuffled. The default is shuffling.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{ts\_tim} \textendash{} Time series with timing error

\item[{Return type}] \leavevmode
dataframe

\end{description}\end{quote}

\end{fulllineitems}



\subsection{kge}
\label{\detokenize{reference/kge:kge}}\label{\detokenize{reference/kge::doc}}

\subsubsection{Kling\sphinxhyphen{}Gupta Efficiency}
\label{\detokenize{reference/kge:kling-gupta-efficiency}}\index{calc\_kge() (in module de.kge)@\spxentry{calc\_kge()}\spxextra{in module de.kge}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/kge:de.kge.calc_kge}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.kge.}}\sphinxbfcode{\sphinxupquote{calc\_kge}}}{\emph{obs}, \emph{sim}, \emph{r=\textquotesingle{}pearson\textquotesingle{}}, \emph{var=\textquotesingle{}std\textquotesingle{}}}{}
Calculate Kling\sphinxhyphen{}Gupta\sphinxhyphen{}Efficiency (KGE).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{r}} (\sphinxhref{https://docs.python.org/3.7/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Either Spearman correlation coefficient (‘spearman’; Pool et al. 2018)
or Pearson correlation coefficient (‘pearson’; Gupta et al. 2009) can
be used to describe the temporal correlation. The default is to
calculate the Pearson correlation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{var}} (\sphinxhref{https://docs.python.org/3.7/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Either coefficient of variation (‘cv’; Kling et al. 2012) or standard
deviation (‘std’; Gupta et al. 2009, Pool et al. 2018) to describe the
gamma term. The default is to calculate the standard deviation.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{eff} \textendash{} Kling\sphinxhyphen{}Gupta\sphinxhyphen{}Efficiency measure

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{0.683901305466148}
\end{sphinxVerbatim}
\subsubsection*{Notes}
\begin{align*}\!\begin{aligned}
KGE = 1 - \sqrt{(\beta - 1)^2 + (\alpha - 1)^2 + (r - 1)^2}\\
KGE = 1 - \sqrt{(\frac{\mu_{sim}}{\mu_{obs}} - 1)^2 + (\frac{\sigma_{sim}}{\sigma_{obs}} - 1)^2 + (r - 1)^2}\\
KGE = 1 - \sqrt{(\beta - 1)^2 + (\gamma - 1)^2 + (r - 1)^2}\\
KGE = 1 - \sqrt{(\frac{\mu_{sim}}{\mu_{obs}} - 1)^2 + (\frac{CV_{sim}}{CV_{obs}} - 1)^2 + (r - 1)^2}\\
\end{aligned}\end{align*}\subsubsection*{References}

Gupta, H. V., Kling, H., Yilmaz, K. K., and Martinez, G. F.: Decomposition
of the mean squared error and NSE performance criteria: Implications for
improving hydrological modelling, Journal of Hydrology, 377, 80\sphinxhyphen{}91,
10.1016/j.jhydrol.2009.08.003, 2009.

Kling, H., Fuchs, M., and Paulin, M.: Runoff conditions in the upper
Danube basin under an ensemble of climate change scenarios, Journal of
Hydrology, 424\sphinxhyphen{}425, 264\sphinxhyphen{}277, 10.1016/j.jhydrol.2012.01.011, 2012.

Pool, S., Vis, M., and Seibert, J.: Evaluating model performance: towards a
non\sphinxhyphen{}parametric variant of the Kling\sphinxhyphen{}Gupta efficiency, Hydrological Sciences
Journal, 63, 1941\sphinxhyphen{}1953, 10.1080/02626667.2018.1552002, 2018.

\end{fulllineitems}



\subsubsection{Bias term}
\label{\detokenize{reference/kge:bias-term}}\index{calc\_kge\_beta() (in module de.kge)@\spxentry{calc\_kge\_beta()}\spxextra{in module de.kge}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/kge:de.kge.calc_kge_beta}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.kge.}}\sphinxbfcode{\sphinxupquote{calc\_kge\_beta}}}{\emph{obs}, \emph{sim}}{}
Calculate the beta term of Kling\sphinxhyphen{}Gupta\sphinxhyphen{}Efficiency (KGE).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series as 1\sphinxhyphen{}D array

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{kge\_beta} \textendash{} alpha value

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}\beta = \frac{\mu_{sim}}{\mu_{obs}}\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}beta}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{1.0980392156862746}
\end{sphinxVerbatim}
\subsubsection*{References}

Gupta, H. V., Kling, H., Yilmaz, K. K., and Martinez, G. F.: Decomposition
of the mean squared error and NSE performance criteria: Implications for
improving hydrological modelling, Journal of Hydrology, 377, 80\sphinxhyphen{}91,
10.1016/j.jhydrol.2009.08.003, 2009.

Kling, H., Fuchs, M., and Paulin, M.: Runoff conditions in the upper
Danube basin under an ensemble of climate change scenarios, Journal of
Hydrology, 424\sphinxhyphen{}425, 264\sphinxhyphen{}277, 10.1016/j.jhydrol.2012.01.011, 2012.

Pool, S., Vis, M., and Seibert, J.: Evaluating model performance: towards a
non\sphinxhyphen{}parametric variant of the Kling\sphinxhyphen{}Gupta efficiency, Hydrological Sciences
Journal, 63, 1941\sphinxhyphen{}1953, 10.1080/02626667.2018.1552002, 2018.

\end{fulllineitems}



\subsubsection{Variability term}
\label{\detokenize{reference/kge:variability-term}}\index{calc\_kge\_alpha() (in module de.kge)@\spxentry{calc\_kge\_alpha()}\spxextra{in module de.kge}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/kge:de.kge.calc_kge_alpha}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.kge.}}\sphinxbfcode{\sphinxupquote{calc\_kge\_alpha}}}{\emph{obs}, \emph{sim}}{}
Calculate the alpha term of the Kling\sphinxhyphen{}Gupta\sphinxhyphen{}Efficiency (KGE).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{kge\_alpha} \textendash{} alpha value

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}\alpha = \frac{\sigma_{sim}}{\sigma_{obs}}\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}alpha}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{1.2812057455166919}
\end{sphinxVerbatim}
\subsubsection*{References}

Gupta, H. V., Kling, H., Yilmaz, K. K., and Martinez, G. F.: Decomposition
of the mean squared error and NSE performance criteria: Implications for
improving hydrological modelling, Journal of Hydrology, 377, 80\sphinxhyphen{}91,
10.1016/j.jhydrol.2009.08.003, 2009.

Kling, H., Fuchs, M., and Paulin, M.: Runoff conditions in the upper
Danube basin under an ensemble of climate change scenarios, Journal of
Hydrology, 424\sphinxhyphen{}425, 264\sphinxhyphen{}277, 10.1016/j.jhydrol.2012.01.011, 2012.

Pool, S., Vis, M., and Seibert, J.: Evaluating model performance: towards a
non\sphinxhyphen{}parametric variant of the Kling\sphinxhyphen{}Gupta efficiency, Hydrological Sciences
Journal, 63, 1941\sphinxhyphen{}1953, 10.1080/02626667.2018.1552002, 2018.

\end{fulllineitems}

\index{calc\_kge\_gamma() (in module de.kge)@\spxentry{calc\_kge\_gamma()}\spxextra{in module de.kge}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/kge:de.kge.calc_kge_gamma}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.kge.}}\sphinxbfcode{\sphinxupquote{calc\_kge\_gamma}}}{\emph{obs}, \emph{sim}}{}
Calculate the gamma term of Kling\sphinxhyphen{}Gupta\sphinxhyphen{}Efficiency (KGE).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series as 1\sphinxhyphen{}D array

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{kge\_gamma} \textendash{} gamma value

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}\gamma = \frac{CV_{sim}}{CV_{obs}}\end{split}
\end{equation*}\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{kge}\PYG{o}{.}\PYG{n}{calc\PYGZus{}kge\PYGZus{}gamma}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{1.166812375381273}
\end{sphinxVerbatim}
\subsubsection*{References}

Gupta, H. V., Kling, H., Yilmaz, K. K., and Martinez, G. F.: Decomposition
of the mean squared error and NSE performance criteria: Implications for
improving hydrological modelling, Journal of Hydrology, 377, 80\sphinxhyphen{}91,
10.1016/j.jhydrol.2009.08.003, 2009.

Kling, H., Fuchs, M., and Paulin, M.: Runoff conditions in the upper
Danube basin under an ensemble of climate change scenarios, Journal of
Hydrology, 424\sphinxhyphen{}425, 264\sphinxhyphen{}277, 10.1016/j.jhydrol.2012.01.011, 2012.

Pool, S., Vis, M., and Seibert, J.: Evaluating model performance: towards a
non\sphinxhyphen{}parametric variant of the Kling\sphinxhyphen{}Gupta efficiency, Hydrological Sciences
Journal, 63, 1941\sphinxhyphen{}1953, 10.1080/02626667.2018.1552002, 2018.

\end{fulllineitems}



\subsubsection{Correlation term}
\label{\detokenize{reference/kge:correlation-term}}\index{calc\_temp\_cor() (in module de.kge)@\spxentry{calc\_temp\_cor()}\spxextra{in module de.kge}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/kge:de.kge.calc_temp_cor}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.kge.}}\sphinxbfcode{\sphinxupquote{calc\_temp\_cor}}}{\emph{obs}, \emph{sim}, \emph{r=\textquotesingle{}pearson\textquotesingle{}}}{}
Calculate temporal correlation between observed and simulated
time series.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{r}} (\sphinxhref{https://docs.python.org/3.7/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Either Spearman correlation coefficient (‘spearman’) or Pearson
correlation coefficient (‘pearson’) can be used to describe the
temporalcorrelation. The default is to calculate the Pearson
correlation.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{temp\_cor} \textendash{} correlation between observed and simulated time series

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{de}\PYG{o}{.}\PYG{n}{calc\PYGZus{}temp\PYGZus{}cor}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{0.8940281850583509}
\end{sphinxVerbatim}

\end{fulllineitems}



\subsubsection{Polar Plot}
\label{\detokenize{reference/kge:polar-plot}}\index{polar\_plot() (in module de.kge)@\spxentry{polar\_plot()}\spxextra{in module de.kge}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/kge:de.kge.polar_plot}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.kge.}}\sphinxbfcode{\sphinxupquote{polar\_plot}}}{\emph{obs}, \emph{sim}, \emph{r=\textquotesingle{}pearson\textquotesingle{}}, \emph{var=\textquotesingle{}std\textquotesingle{}}}{}
Polar plot of Diagnostic efficiency (KGE) for a single
evaluation.
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{r}} (\sphinxhref{https://docs.python.org/3.7/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Either Spearman correlation coefficient (‘spearman’) or Pearson
correlation coefficient (‘pearson’) can be used to describe the
temporal correlation. The default calculates the Pearson correlation.

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{var}} (\sphinxhref{https://docs.python.org/3.7/library/stdtypes.html\#str}{\sphinxstyleliteralemphasis{\sphinxupquote{str}}}\sphinxstyleliteralemphasis{\sphinxupquote{, }}\sphinxstyleliteralemphasis{\sphinxupquote{optional}}) \textendash{} Either coefficient of variation (‘cv’) or standard deviation (‘std’)
to describe the gamma term. The default calculates the standard
deviation.

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{fig} \textendash{} diagnostic polar plot

\item[{Return type}] \leavevmode
Figure

\end{description}\end{quote}
\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{kge}\PYG{o}{.}\PYG{n}{diag\PYGZus{}polar\PYGZus{}plot\PYGZus{}kge}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\end{sphinxVerbatim}

\end{fulllineitems}



\subsection{nse}
\label{\detokenize{reference/nse:nse}}\label{\detokenize{reference/nse::doc}}

\subsubsection{Nash\sphinxhyphen{}Sutcliffe Efficiency}
\label{\detokenize{reference/nse:nash-sutcliffe-efficiency}}\index{calc\_nse() (in module de.nse)@\spxentry{calc\_nse()}\spxextra{in module de.nse}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{reference/nse:de.nse.calc_nse}}\pysiglinewithargsret{\sphinxcode{\sphinxupquote{de.nse.}}\sphinxbfcode{\sphinxupquote{calc\_nse}}}{\emph{obs}, \emph{sim}}{}
Calculate Nash\sphinxhyphen{}Sutcliffe\sphinxhyphen{}Efficiency (NSE).
\begin{quote}\begin{description}
\item[{Parameters}] \leavevmode\begin{itemize}
\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{obs}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Observed time series as 1\sphinxhyphen{}D array

\item {} 
\sphinxstyleliteralstrong{\sphinxupquote{sim}} (\sphinxstyleliteralemphasis{\sphinxupquote{(}}\sphinxstyleliteralemphasis{\sphinxupquote{N}}\sphinxstyleliteralemphasis{\sphinxupquote{,}}\sphinxstyleliteralemphasis{\sphinxupquote{)}}\sphinxstyleliteralemphasis{\sphinxupquote{array\_like}}) \textendash{} Simulated time series as 1\sphinxhyphen{}D array

\end{itemize}

\item[{Returns}] \leavevmode
\sphinxstylestrong{sig} \textendash{} Nash\sphinxhyphen{}Sutcliffe\sphinxhyphen{}Efficiency measure

\item[{Return type}] \leavevmode
\sphinxhref{https://docs.python.org/3.7/library/functions.html\#float}{float}

\end{description}\end{quote}
\subsubsection*{Examples}

Provide arrays with equal length

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{from} \PYG{n+nn}{de} \PYG{k+kn}{import} \PYG{n}{de}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{numpy} \PYG{k}{as} \PYG{n+nn}{np}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{obs} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{0.85}\PYG{p}{,} \PYG{l+m+mf}{1.5}\PYG{p}{,} \PYG{l+m+mi}{2}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{sim} \PYG{o}{=} \PYG{n}{np}\PYG{o}{.}\PYG{n}{array}\PYG{p}{(}\PYG{p}{[}\PYG{l+m+mf}{1.6}\PYG{p}{,} \PYG{l+m+mf}{1.3}\PYG{p}{,} \PYG{l+m+mi}{1}\PYG{p}{,} \PYG{l+m+mf}{0.8}\PYG{p}{,} \PYG{l+m+mf}{1.2}\PYG{p}{,} \PYG{l+m+mf}{2.5}\PYG{p}{]}\PYG{p}{)}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{nse}\PYG{o}{.}\PYG{n}{calc\PYGZus{}nse}\PYG{p}{(}\PYG{n}{obs}\PYG{p}{,} \PYG{n}{sim}\PYG{p}{)}
\PYG{g+go}{0.5648252536640361}
\end{sphinxVerbatim}
\subsubsection*{Notes}
\begin{equation*}
\begin{split}NSE = 1 - \frac{\sum_{t=1}^{t=T} (Q_{sim}(t) - Q_{obs}(t))^2}{\sum_{t=1}^{t=T} (Q_{obs}(t) - \overline{Q_{obs}})^2}\end{split}
\end{equation*}\subsubsection*{References}

Nash, J. E., and Sutcliffe, J. V.: River flow forecasting through
conceptual models part I \sphinxhyphen{} A discussion of principles, Journal of
Hydrology, 10, 282\sphinxhyphen{}290, 10.1016/0022\sphinxhyphen{}1694(70)90255\sphinxhyphen{}6, 1970.

\end{fulllineitems}



\section{Changelog}
\label{\detokenize{changelog:changelog}}\label{\detokenize{changelog::doc}}

\subsection{Version 0.1}
\label{\detokenize{changelog:version-0-1}}


\renewcommand{\indexname}{Index}
\printindex
\end{document}